import{$ as q,d as ee,r as T,e as K,o as C,c as L,a as B,w as V,u as M,F as z,f as w,g as R,h as me,m as we,i as Te,j as ze,k as Ne,l as be,n as Pe,t as Ie,p as Fe,q as De,s as Re,v as te,x as He,y as Ve}from"./index-7cfbbe18.js";import{_ as Ke,F as Qe}from"./FooterComp-32bf5caf.js";const We={node1:{name:"Node 1",active:!0},node2:{name:"Node 2",active:!1},node3:{name:"Node 3",active:!0},node4:{name:"Node 4",active:!1}},Ge={edge1:{source:"node1",target:"node2"},edge2:{source:"node2",target:"node3"},edge3:{source:"node3",target:"node4"}},Ue={nodes:{node1:{x:0,y:0},node2:{x:80,y:80},node3:{x:160,y:0},node4:{x:240,y:80}}},Xe=q({node:{normal:{type:"rect",width:32,height:32,borderRadius:2,color:"#ffffff",strokeWidth:2,strokeColor:"#888888"},hover:{color:"#eeeeee"}},edge:{normal:{width:1,color:"#666666"},hover:{color:"#666666"}}}),W={nodes:We,edges:Ge,layouts:Ue,configs:Xe},Ye=w("h1",{class:"pt-2 pb-5 text-3xl font-bold"}," Example on the use of layers: ",-1),Je=["cx","cy","r","fill"],Ze=w("p",{class:"pb-5"},[R(" Link with this example: "),w("a",{href:"https://dash14.github.io/v-network-graph/examples/layers.html#node-s-badge"}," https://dash14.github.io/v-network-graph/examples/layers.html#node-s-badge")],-1),qe=w("p",null,[w("hr")],-1),et=ee({__name:"ExampleLayers",setup(e){const n={badge:"nodes"},t=T(W.layouts);return(o,i)=>{const a=K("v-network-graph");return C(),L(z,null,[Ye,B(a,{nodes:M(W).nodes,edges:M(W).edges,layouts:t.value,configs:M(W).configs,layers:n},{badge:V(({scale:l})=>[(C(!0),L(z,null,me(t.value.nodes,(r,u)=>(C(),L("circle",{key:u,cx:r.x+9*l,cy:r.y-9*l,r:4*l,fill:M(W).nodes[u].active?"#ff0000":"#999999",style:{"pointer-events":"none"}},null,8,Je))),128))]),_:1},8,["nodes","edges","layouts","configs"]),Ze,qe],64)}}}),tt={edge1:{source:"node1",target:"node2"},edge2:{source:"node2",target:"node3"},edge3:{source:"node2",target:"node4"},edge4:{source:"node4",target:"node5"},edge5:{source:"node4",target:"node6"}},nt={nodes:{node1:{x:0,y:0},node2:{x:80,y:80},node3:{x:0,y:160},node4:{x:240,y:80},node5:{x:320,y:0},node6:{x:320,y:160}}},ot=q({node:{selectable:!0,normal:{radius:30,color:"#ff0000",strokeWidth:1,strokeColor:"#888888"},hover:{radius:22}}}),ie={edges:tt,layouts:nt,configs:ot},rt=w("h1",{class:"pt-2 pb-5 text-3xl font-bold"}," Example on the use of custom nodes: ",-1),st=["r","fill"],it=["font-size","innerHTML"],at=w("p",{class:"pb-5"},[R(" Link with this example: "),w("a",{href:""}," https://dash14.github.io/v-network-graph/examples/appearance.html#custom-node")],-1),lt=w("p",null,[w("hr")],-1),ct=ee({__name:"ExampleCustom",setup(e){const n={node1:{name:"N1",icon:"&#xe320"},node2:{name:"N2",icon:"&#xe328"},node3:{name:"N3",icon:"&#xe331"},node4:{name:"N4",icon:"&#xe2bd"},node5:{name:"N5",icon:"&#xf0e2"},node6:{name:"N6",icon:"&#xea75"}};return(t,o)=>{const i=K("v-network-graph");return C(),L(z,null,[rt,B(i,{nodes:n,edges:M(ie).edges,layouts:M(ie).layouts,configs:M(ie).configs},{"override-node":V(({nodeId:a,scale:l,config:r,...u})=>[w("circle",we({r:r.radius*l,fill:r.color},u),null,16,st),w("text",{"font-family":"Material Icons","font-size":22*l,fill:"#ffffff","text-anchor":"middle","dominant-baseline":"central",style:{"pointer-events":"none"},innerHTML:n[a].icon},null,8,it)]),default:V(()=>[w("defs",null,[(C(),Te(ze("style"),null,{default:V(()=>[R(" @font-face { font-family: 'Material Icons'; font-style: normal; font-weight: 400; src: url(https://fonts.gstatic.com/s/materialicons/v97/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2) format('woff2'); } ")]),_:1}))])]),_:1},8,["edges","layouts","configs"]),at,lt],64)}}}),ut={node1:{name:"Node 1"},node2:{name:"Node 2"},node3:{name:"Node 3"},node4:{name:"Node 4"}},ft={edge1:{source:"node1",target:"node2"},edge2:{source:"node2",target:"node3"},edge3:{source:"node3",target:"node4"}},ht={nodes:{node1:{x:0,y:0},node2:{x:80,y:80},node3:{x:160,y:0},node4:{x:240,y:80}}},dt=q({node:{normal:{type:"rect",width:64,height:32,color:"#FF0000"},label:{visible:!1}}}),G={nodes:ut,edges:ft,layouts:ht,configs:dt},ce=e=>(Fe("data-v-806c97f4"),e=e(),De(),e),gt=ce(()=>w("h1",{class:"pt-2 pb-5 text-3xl font-bold"}," Example on the use of Tooltips: ",-1)),pt={class:"tooltip-wrapper"},yt=ce(()=>w("p",{class:"pb-5"},[R(" Link with this example: "),w("a",{href:"https://dash14.github.io/v-network-graph/examples/event.html#tooltip"}," https://dash14.github.io/v-network-graph/examples/event.html#tooltip")],-1)),vt=ce(()=>w("p",null,[w("hr")],-1)),xt=16,_t=ee({__name:"ExampleTooltip",setup(e){const n=T(),t=T(),o=T(G.layouts),i=T(""),a=T(0),l=T({left:"0px",top:"0px"}),r=Ne(()=>o.value.nodes[i.value]||{x:0,y:0});be(()=>[r.value,a.value],()=>{if(!n.value||!t.value)return;const s=n.value.translateFromSvgToDomCoordinates(r.value);l.value={left:s.x-t.value.offsetWidth/2+"px",top:s.y-xt-t.value.offsetHeight-10+"px"}},{deep:!0});const u={"node:pointerover":({node:s})=>{i.value=s,a.value=1},"node:pointerout":s=>{a.value=0}};return(s,d)=>{var p;const y=K("v-network-graph");return C(),L(z,null,[gt,w("div",pt,[B(y,{ref_key:"graph",ref:n,layouts:o.value,"onUpdate:layouts":d[0]||(d[0]=g=>o.value=g),nodes:M(G).nodes,edges:M(G).edges,configs:M(G).configs,"event-handlers":u},null,8,["layouts","nodes","edges","configs"]),w("div",{ref_key:"tooltip",ref:t,class:"tooltip",style:Pe({...l.value,opacity:a.value})},[w("div",null,Ie(((p=M(G).nodes[i.value])==null?void 0:p.name)??""),1)],4)]),yt,vt],64)}}});const mt=Ke(_t,[["__scopeId","data-v-806c97f4"]]);function ke(e,n){var t,o=1;e==null&&(e=0),n==null&&(n=0);function i(){var a,l=t.length,r,u=0,s=0;for(a=0;a<l;++a)r=t[a],u+=r.x,s+=r.y;for(u=(u/l-e)*o,s=(s/l-n)*o,a=0;a<l;++a)r=t[a],r.x-=u,r.y-=s}return i.initialize=function(a){t=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(n=+a,i):n},i.strength=function(a){return arguments.length?(o=+a,i):o},i}function wt(e){const n=+this._x.call(null,e),t=+this._y.call(null,e);return Ae(this.cover(n,t),n,t,e)}function Ae(e,n,t,o){if(isNaN(n)||isNaN(t))return e;var i,a=e._root,l={data:o},r=e._x0,u=e._y0,s=e._x1,d=e._y1,y,p,g,v,h,c,f,x;if(!a)return e._root=l,e;for(;a.length;)if((h=n>=(y=(r+s)/2))?r=y:s=y,(c=t>=(p=(u+d)/2))?u=p:d=p,i=a,!(a=a[f=c<<1|h]))return i[f]=l,e;if(g=+e._x.call(null,a.data),v=+e._y.call(null,a.data),n===g&&t===v)return l.next=a,i?i[f]=l:e._root=l,e;do i=i?i[f]=new Array(4):e._root=new Array(4),(h=n>=(y=(r+s)/2))?r=y:s=y,(c=t>=(p=(u+d)/2))?u=p:d=p;while((f=c<<1|h)===(x=(v>=p)<<1|g>=y));return i[x]=a,i[f]=l,e}function Nt(e){var n,t,o=e.length,i,a,l=new Array(o),r=new Array(o),u=1/0,s=1/0,d=-1/0,y=-1/0;for(t=0;t<o;++t)isNaN(i=+this._x.call(null,n=e[t]))||isNaN(a=+this._y.call(null,n))||(l[t]=i,r[t]=a,i<u&&(u=i),i>d&&(d=i),a<s&&(s=a),a>y&&(y=a));if(u>d||s>y)return this;for(this.cover(u,s).cover(d,y),t=0;t<o;++t)Ae(this,l[t],r[t],e[t]);return this}function bt(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,o=this._y0,i=this._x1,a=this._y1;if(isNaN(t))i=(t=Math.floor(e))+1,a=(o=Math.floor(n))+1;else{for(var l=i-t||1,r=this._root,u,s;t>e||e>=i||o>n||n>=a;)switch(s=(n<o)<<1|e<t,u=new Array(4),u[s]=r,r=u,l*=2,s){case 0:i=t+l,a=o+l;break;case 1:t=i-l,a=o+l;break;case 2:i=t+l,o=a-l;break;case 3:t=i-l,o=a-l;break}this._root&&this._root.length&&(this._root=r)}return this._x0=t,this._y0=o,this._x1=i,this._y1=a,this}function kt(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function At(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function E(e,n,t,o,i){this.node=e,this.x0=n,this.y0=t,this.x1=o,this.y1=i}function $t(e,n,t){var o,i=this._x0,a=this._y0,l,r,u,s,d=this._x1,y=this._y1,p=[],g=this._root,v,h;for(g&&p.push(new E(g,i,a,d,y)),t==null?t=1/0:(i=e-t,a=n-t,d=e+t,y=n+t,t*=t);v=p.pop();)if(!(!(g=v.node)||(l=v.x0)>d||(r=v.y0)>y||(u=v.x1)<i||(s=v.y1)<a))if(g.length){var c=(l+u)/2,f=(r+s)/2;p.push(new E(g[3],c,f,u,s),new E(g[2],l,f,c,s),new E(g[1],c,r,u,f),new E(g[0],l,r,c,f)),(h=(n>=f)<<1|e>=c)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-h],p[p.length-1-h]=v)}else{var x=e-+this._x.call(null,g.data),m=n-+this._y.call(null,g.data),_=x*x+m*m;if(_<t){var N=Math.sqrt(t=_);i=e-N,a=n-N,d=e+N,y=n+N,o=g.data}}return o}function Et(e){if(isNaN(d=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e)))return this;var n,t=this._root,o,i,a,l=this._x0,r=this._y0,u=this._x1,s=this._y1,d,y,p,g,v,h,c,f;if(!t)return this;if(t.length)for(;;){if((v=d>=(p=(l+u)/2))?l=p:u=p,(h=y>=(g=(r+s)/2))?r=g:s=g,n=t,!(t=t[c=h<<1|v]))return this;if(!t.length)break;(n[c+1&3]||n[c+2&3]||n[c+3&3])&&(o=n,f=c)}for(;t.data!==e;)if(i=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,i?(a?i.next=a:delete i.next,this):n?(a?n[c]=a:delete n[c],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(o?o[f]=t:this._root=t),this):(this._root=a,this)}function Mt(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this}function Ot(){return this._root}function Ct(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function jt(e){var n=[],t,o=this._root,i,a,l,r,u;for(o&&n.push(new E(o,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(o=t.node,a=t.x0,l=t.y0,r=t.x1,u=t.y1)&&o.length){var s=(a+r)/2,d=(l+u)/2;(i=o[3])&&n.push(new E(i,s,d,r,u)),(i=o[2])&&n.push(new E(i,a,d,s,u)),(i=o[1])&&n.push(new E(i,s,l,r,d)),(i=o[0])&&n.push(new E(i,a,l,s,d))}return this}function Lt(e){var n=[],t=[],o;for(this._root&&n.push(new E(this._root,this._x0,this._y0,this._x1,this._y1));o=n.pop();){var i=o.node;if(i.length){var a,l=o.x0,r=o.y0,u=o.x1,s=o.y1,d=(l+u)/2,y=(r+s)/2;(a=i[0])&&n.push(new E(a,l,r,d,y)),(a=i[1])&&n.push(new E(a,d,r,u,y)),(a=i[2])&&n.push(new E(a,l,y,d,s)),(a=i[3])&&n.push(new E(a,d,y,u,s))}t.push(o)}for(;o=t.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function Bt(e){return e[0]}function St(e){return arguments.length?(this._x=e,this):this._x}function Tt(e){return e[1]}function zt(e){return arguments.length?(this._y=e,this):this._y}function ue(e,n,t){var o=new fe(n??Bt,t??Tt,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function fe(e,n,t,o,i,a){this._x=e,this._y=n,this._x0=t,this._y0=o,this._x1=i,this._y1=a,this._root=void 0}function he(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var O=ue.prototype=fe.prototype;O.copy=function(){var e=new fe(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,o;if(!n)return e;if(!n.length)return e._root=he(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var i=0;i<4;++i)(o=n.source[i])&&(o.length?t.push({source:o,target:n.target[i]=new Array(4)}):n.target[i]=he(o));return e};O.add=wt;O.addAll=Nt;O.cover=bt;O.data=kt;O.extent=At;O.find=$t;O.remove=Et;O.removeAll=Mt;O.root=Ot;O.size=Ct;O.visit=jt;O.visitAfter=Lt;O.x=St;O.y=zt;function k(e){return function(){return e}}function D(e){return(e()-.5)*1e-6}function Pt(e){return e.x+e.vx}function It(e){return e.y+e.vy}function $e(e){var n,t,o,i=1,a=1;typeof e!="function"&&(e=k(e==null?1:+e));function l(){for(var s,d=n.length,y,p,g,v,h,c,f=0;f<a;++f)for(y=ue(n,Pt,It).visitAfter(r),s=0;s<d;++s)p=n[s],h=t[p.index],c=h*h,g=p.x+p.vx,v=p.y+p.vy,y.visit(x);function x(m,_,N,b,j){var A=m.data,S=m.r,$=h+S;if(A){if(A.index>p.index){var I=g-A.x-A.vx,F=v-A.y-A.vy,P=I*I+F*F;P<$*$&&(I===0&&(I=D(o),P+=I*I),F===0&&(F=D(o),P+=F*F),P=($-(P=Math.sqrt(P)))/P*i,p.vx+=(I*=P)*($=(S*=S)/(c+S)),p.vy+=(F*=P)*$,A.vx-=I*($=1-$),A.vy-=F*$)}return}return _>g+$||b<g-$||N>v+$||j<v-$}}function r(s){if(s.data)return s.r=t[s.data.index];for(var d=s.r=0;d<4;++d)s[d]&&s[d].r>s.r&&(s.r=s[d].r)}function u(){if(n){var s,d=n.length,y;for(t=new Array(d),s=0;s<d;++s)y=n[s],t[y.index]=+e(y,s,n)}}return l.initialize=function(s,d){n=s,o=d,u()},l.iterations=function(s){return arguments.length?(a=+s,l):a},l.strength=function(s){return arguments.length?(i=+s,l):i},l.radius=function(s){return arguments.length?(e=typeof s=="function"?s:k(+s),u(),l):e},l}function Ft(e){return e.index}function de(e,n){var t=e.get(n);if(!t)throw new Error("node not found: "+n);return t}function Ee(e){var n=Ft,t=y,o,i=k(30),a,l,r,u,s,d=1;e==null&&(e=[]);function y(c){return 1/Math.min(r[c.source.index],r[c.target.index])}function p(c){for(var f=0,x=e.length;f<d;++f)for(var m=0,_,N,b,j,A,S,$;m<x;++m)_=e[m],N=_.source,b=_.target,j=b.x+b.vx-N.x-N.vx||D(s),A=b.y+b.vy-N.y-N.vy||D(s),S=Math.sqrt(j*j+A*A),S=(S-a[m])/S*c*o[m],j*=S,A*=S,b.vx-=j*($=u[m]),b.vy-=A*$,N.vx+=j*($=1-$),N.vy+=A*$}function g(){if(l){var c,f=l.length,x=e.length,m=new Map(l.map((N,b)=>[n(N,b,l),N])),_;for(c=0,r=new Array(f);c<x;++c)_=e[c],_.index=c,typeof _.source!="object"&&(_.source=de(m,_.source)),typeof _.target!="object"&&(_.target=de(m,_.target)),r[_.source.index]=(r[_.source.index]||0)+1,r[_.target.index]=(r[_.target.index]||0)+1;for(c=0,u=new Array(x);c<x;++c)_=e[c],u[c]=r[_.source.index]/(r[_.source.index]+r[_.target.index]);o=new Array(x),v(),a=new Array(x),h()}}function v(){if(l)for(var c=0,f=e.length;c<f;++c)o[c]=+t(e[c],c,e)}function h(){if(l)for(var c=0,f=e.length;c<f;++c)a[c]=+i(e[c],c,e)}return p.initialize=function(c,f){l=c,s=f,g()},p.links=function(c){return arguments.length?(e=c,g(),p):e},p.id=function(c){return arguments.length?(n=c,p):n},p.iterations=function(c){return arguments.length?(d=+c,p):d},p.strength=function(c){return arguments.length?(t=typeof c=="function"?c:k(+c),v(),p):t},p.distance=function(c){return arguments.length?(i=typeof c=="function"?c:k(+c),h(),p):i},p}var Dt={value:()=>{}};function Me(){for(var e=0,n=arguments.length,t={},o;e<n;++e){if(!(o=arguments[e]+"")||o in t||/[\s.]/.test(o))throw new Error("illegal type: "+o);t[o]=[]}return new ne(t)}function ne(e){this._=e}function Rt(e,n){return e.trim().split(/^|\s+/).map(function(t){var o="",i=t.indexOf(".");if(i>=0&&(o=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:o}})}ne.prototype=Me.prototype={constructor:ne,on:function(e,n){var t=this._,o=Rt(e+"",t),i,a=-1,l=o.length;if(arguments.length<2){for(;++a<l;)if((i=(e=o[a]).type)&&(i=Ht(t[i],e.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<l;)if(i=(e=o[a]).type)t[i]=ge(t[i],e.name,n);else if(n==null)for(i in t)t[i]=ge(t[i],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new ne(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var t=new Array(i),o=0,i,a;o<i;++o)t[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],o=0,i=a.length;o<i;++o)a[o].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,a=o.length;i<a;++i)o[i].value.apply(n,t)}};function Ht(e,n){for(var t=0,o=e.length,i;t<o;++t)if((i=e[t]).name===n)return i.value}function ge(e,n,t){for(var o=0,i=e.length;o<i;++o)if(e[o].name===n){e[o]=Dt,e=e.slice(0,o).concat(e.slice(o+1));break}return t!=null&&e.push({name:n,value:t}),e}var Q=0,Y=0,U=0,Oe=1e3,oe,J,re=0,H=0,se=0,Z=typeof performance=="object"&&performance.now?performance:Date,Ce=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function je(){return H||(Ce(Vt),H=Z.now()+se)}function Vt(){H=0}function ae(){this._call=this._time=this._next=null}ae.prototype=Le.prototype={constructor:ae,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?je():+t)+(n==null?0:+n),!this._next&&J!==this&&(J?J._next=this:oe=this,J=this),this._call=e,this._time=t,le()},stop:function(){this._call&&(this._call=null,this._time=1/0,le())}};function Le(e,n,t){var o=new ae;return o.restart(e,n,t),o}function Kt(){je(),++Q;for(var e=oe,n;e;)(n=H-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Q}function pe(){H=(re=Z.now())+se,Q=Y=0;try{Kt()}finally{Q=0,Wt(),H=0}}function Qt(){var e=Z.now(),n=e-re;n>Oe&&(se-=n,re=e)}function Wt(){for(var e,n=oe,t,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:oe=t);J=e,le(o)}function le(e){if(!Q){Y&&(Y=clearTimeout(Y));var n=e-H;n>24?(e<1/0&&(Y=setTimeout(pe,e-Z.now()-se)),U&&(U=clearInterval(U))):(U||(re=Z.now(),U=setInterval(Qt,Oe)),Q=1,Ce(pe))}}const Gt=1664525,Ut=1013904223,ye=4294967296;function Xt(){let e=1;return()=>(e=(Gt*e+Ut)%ye)/ye}function Yt(e){return e.x}function Jt(e){return e.y}var Zt=10,qt=Math.PI*(3-Math.sqrt(5));function Be(e){var n,t=1,o=.001,i=1-Math.pow(o,1/300),a=0,l=.6,r=new Map,u=Le(y),s=Me("tick","end"),d=Xt();e==null&&(e=[]);function y(){p(),s.call("tick",n),t<o&&(u.stop(),s.call("end",n))}function p(h){var c,f=e.length,x;h===void 0&&(h=1);for(var m=0;m<h;++m)for(t+=(a-t)*i,r.forEach(function(_){_(t)}),c=0;c<f;++c)x=e[c],x.fx==null?x.x+=x.vx*=l:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=l:(x.y=x.fy,x.vy=0);return n}function g(){for(var h=0,c=e.length,f;h<c;++h){if(f=e[h],f.index=h,f.fx!=null&&(f.x=f.fx),f.fy!=null&&(f.y=f.fy),isNaN(f.x)||isNaN(f.y)){var x=Zt*Math.sqrt(.5+h),m=h*qt;f.x=x*Math.cos(m),f.y=x*Math.sin(m)}(isNaN(f.vx)||isNaN(f.vy))&&(f.vx=f.vy=0)}}function v(h){return h.initialize&&h.initialize(e,d),h}return g(),n={tick:p,restart:function(){return u.restart(y),n},stop:function(){return u.stop(),n},nodes:function(h){return arguments.length?(e=h,g(),r.forEach(v),n):e},alpha:function(h){return arguments.length?(t=+h,n):t},alphaMin:function(h){return arguments.length?(o=+h,n):o},alphaDecay:function(h){return arguments.length?(i=+h,n):+i},alphaTarget:function(h){return arguments.length?(a=+h,n):a},velocityDecay:function(h){return arguments.length?(l=1-h,n):1-l},randomSource:function(h){return arguments.length?(d=h,r.forEach(v),n):d},force:function(h,c){return arguments.length>1?(c==null?r.delete(h):r.set(h,v(c)),n):r.get(h)},find:function(h,c,f){var x=0,m=e.length,_,N,b,j,A;for(f==null?f=1/0:f*=f,x=0;x<m;++x)j=e[x],_=h-j.x,N=c-j.y,b=_*_+N*N,b<f&&(A=j,f=b);return A},on:function(h,c){return arguments.length>1?(s.on(h,c),n):s.on(h)}}}function Se(){var e,n,t,o,i=k(-30),a,l=1,r=1/0,u=.81;function s(g){var v,h=e.length,c=ue(e,Yt,Jt).visitAfter(y);for(o=g,v=0;v<h;++v)n=e[v],c.visit(p)}function d(){if(e){var g,v=e.length,h;for(a=new Array(v),g=0;g<v;++g)h=e[g],a[h.index]=+i(h,g,e)}}function y(g){var v=0,h,c,f=0,x,m,_;if(g.length){for(x=m=_=0;_<4;++_)(h=g[_])&&(c=Math.abs(h.value))&&(v+=h.value,f+=c,x+=c*h.x,m+=c*h.y);g.x=x/f,g.y=m/f}else{h=g,h.x=h.data.x,h.y=h.data.y;do v+=a[h.data.index];while(h=h.next)}g.value=v}function p(g,v,h,c){if(!g.value)return!0;var f=g.x-n.x,x=g.y-n.y,m=c-v,_=f*f+x*x;if(m*m/u<_)return _<r&&(f===0&&(f=D(t),_+=f*f),x===0&&(x=D(t),_+=x*x),_<l&&(_=Math.sqrt(l*_)),n.vx+=f*g.value*o/_,n.vy+=x*g.value*o/_),!0;if(g.length||_>=r)return;(g.data!==n||g.next)&&(f===0&&(f=D(t),_+=f*f),x===0&&(x=D(t),_+=x*x),_<l&&(_=Math.sqrt(l*_)));do g.data!==n&&(m=a[g.data.index]*o/_,n.vx+=f*m,n.vy+=x*m);while(g=g.next)}return s.initialize=function(g,v){e=g,t=v,d()},s.strength=function(g){return arguments.length?(i=typeof g=="function"?g:k(+g),d(),s):i},s.distanceMin=function(g){return arguments.length?(l=g*g,s):Math.sqrt(l)},s.distanceMax=function(g){return arguments.length?(r=g*g,s):Math.sqrt(r)},s.theta=function(g){return arguments.length?(u=g*g,s):Math.sqrt(u)},s}function en(e,n,t){var o,i=k(.1),a,l;typeof e!="function"&&(e=k(+e)),n==null&&(n=0),t==null&&(t=0);function r(s){for(var d=0,y=o.length;d<y;++d){var p=o[d],g=p.x-n||1e-6,v=p.y-t||1e-6,h=Math.sqrt(g*g+v*v),c=(l[d]-h)*a[d]*s/h;p.vx+=g*c,p.vy+=v*c}}function u(){if(o){var s,d=o.length;for(a=new Array(d),l=new Array(d),s=0;s<d;++s)l[s]=+e(o[s],s,o),a[s]=isNaN(l[s])?0:+i(o[s],s,o)}}return r.initialize=function(s){o=s,u()},r.strength=function(s){return arguments.length?(i=typeof s=="function"?s:k(+s),u(),r):i},r.radius=function(s){return arguments.length?(e=typeof s=="function"?s:k(+s),u(),r):e},r.x=function(s){return arguments.length?(n=+s,r):n},r.y=function(s){return arguments.length?(t=+s,r):t},r}function tn(e){var n=k(.1),t,o,i;typeof e!="function"&&(e=k(e==null?0:+e));function a(r){for(var u=0,s=t.length,d;u<s;++u)d=t[u],d.vx+=(i[u]-d.x)*o[u]*r}function l(){if(t){var r,u=t.length;for(o=new Array(u),i=new Array(u),r=0;r<u;++r)o[r]=isNaN(i[r]=+e(t[r],r,t))?0:+n(t[r],r,t)}}return a.initialize=function(r){t=r,l()},a.strength=function(r){return arguments.length?(n=typeof r=="function"?r:k(+r),l(),a):n},a.x=function(r){return arguments.length?(e=typeof r=="function"?r:k(+r),l(),a):e},a}function nn(e){var n=k(.1),t,o,i;typeof e!="function"&&(e=k(e==null?0:+e));function a(r){for(var u=0,s=t.length,d;u<s;++u)d=t[u],d.vy+=(i[u]-d.y)*o[u]*r}function l(){if(t){var r,u=t.length;for(o=new Array(u),i=new Array(u),r=0;r<u;++r)o[r]=isNaN(i[r]=+e(t[r],r,t))?0:+n(t[r],r,t)}}return a.initialize=function(r){t=r,l()},a.strength=function(r){return arguments.length?(n=typeof r=="function"?r:k(+r),l(),a):n},a.y=function(r){return arguments.length?(e=typeof r=="function"?r:k(+r),l(),a):e},a}const on=Object.freeze(Object.defineProperty({__proto__:null,forceCenter:ke,forceCollide:$e,forceLink:Ee,forceManyBody:Se,forceRadial:en,forceSimulation:Be,forceX:tn,forceY:nn},Symbol.toStringTag,{value:"Module"}));var rn=Object.defineProperty,sn=Object.defineProperties,an=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,cn=Object.prototype.propertyIsEnumerable,xe=(e,n,t)=>n in e?rn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,_e=(e,n)=>{for(var t in n||(n={}))ln.call(n,t)&&xe(e,t,n[t]);if(ve)for(var t of ve(n))cn.call(n,t)&&xe(e,t,n[t]);return e},un=(e,n)=>sn(e,an(n));class fn{constructor(n={}){this.options=n}activate(n){const{nodePositions:t,nodes:o,edges:i,emitter:a}=n;let{nodeLayouts:l,nodeLayoutMap:r}=this.buildNodeLayouts(o.value,t);const u=this.createSimulation(l,this.forceLayoutEdges(i.value,o.value));this.onTick=()=>{var v,h,c,f,x;for(const m of l){const _=(v=t.value)==null?void 0:v[m.id];if(_){const N=(h=m.x)!=null?h:0,b=(c=m.y)!=null?c:0;(_.x!==N||_.y!==N)&&Object.assign(_,{x:N,y:b})}else t.value[m.id]={x:(f=m.x)!=null?f:0,y:(x=m.y)!=null?x:0}}},u.on("tick",this.onTick),this.onTick();const s=()=>{this.options.noAutoRestartSimulation||u.alpha(.1).restart()},d=v=>{var h;if(this.options.noAutoRestartSimulation)for(const[c,f]of Object.entries(v)){const x=(h=t.value)==null?void 0:h[c];x.x=f.x,x.y=f.y}else{for(const[c,f]of Object.entries(v)){const x=r[c];x.fx=f.x,x.fy=f.y}s()}},y=v=>{var h;for(const[c,f]of Object.entries(v)){const x=this.getNodeLayout(t,c),m=(h=r==null?void 0:r[c])!=null?h:{x:0,y:0};x.value.fixed||this.options.positionFixedByDrag?(m.fx=f.x,m.fy=f.y,x.value.fixed=!0):(m.x=f.x,m.y=f.y,delete m.fx,delete m.fy)}s()},p=({node:v,event:h})=>{if(this.options.positionFixedByClickWithAltKey&&h.altKey){const c=this.getNodeLayout(t,v);let f=r==null?void 0:r[v];f||(f={id:v,x:0,y:0},r[v]=f),c.value.fixed?(delete c.value.fixed,f.x=f.fx||f.x,f.y=f.fy||f.y,delete f.fx,delete f.fy):(c.value.fixed=!0,f.fx=f.x,f.fy=f.y),s()}},g=be(()=>[Object.keys(o.value),Object.keys(t.value),Object.values(i.value).map(v=>`${v.source}=${v.target}`)],()=>{({nodeLayouts:l,nodeLayoutMap:r}=this.buildNodeLayouts(o.value,t)),u.nodes(l);const v=u.force("edge");v&&v.links(this.forceLayoutEdges(i.value,o.value)),s()});a.on("node:dragstart",d),a.on("node:pointermove",d),a.on("node:dragend",y),a.on("node:click",p),this.onDeactivate=()=>{u.stop(),g(),a.off("node:dragstart",d),a.off("node:pointermove",d),a.off("node:dragend",y),a.off("node:click",p)}}deactivate(){this.onDeactivate&&this.onDeactivate(),this.onTick=void 0}ticked(){var n;(n=this.onTick)==null||n.call(this)}createSimulation(n,t){if(this.options.createSimulation)return this.options.createSimulation(on,n,t);{const o=Ee(t).id(i=>i.id);return Be(n).force("edge",o.distance(100)).force("charge",Se()).force("collide",$e(50).strength(.2)).force("center",ke().strength(.05)).alphaMin(.001)}}buildNodeLayouts(n,t){const o=Object.keys(n).filter(l=>!(l in t.value)),i=this.forceNodeLayouts(t.value,o),a=Object.fromEntries(i.map(l=>[l.id,l]));return{nodeLayouts:i,nodeLayoutMap:a}}forceNodeLayouts(n,t){const o=Object.entries(n).map(([i,a])=>a.fixed?un(_e({id:i},a),{fx:a.x,fy:a.y}):_e({id:i},a));return t.map(i=>({id:i})).forEach(i=>o.push(i)),o}forceLayoutEdges(n,t){return Object.values(n).filter(o=>o.source in t&&o.target in t).map(o=>({source:o.source,target:o.target}))}getNodeLayout(n,t){const o=Re(n.value,t);return o.value||(o.value={x:0,y:0}),o}}const hn={groupA:{id:"groupA",name:"Group A",collapse:!1,children:{node1:{id:"groupA/node1",name:"Node 1"},node2:{id:"groupA/node2",name:"Node 2"},node3:{id:"groupA/node3",name:"Node 3"}}},groupB:{id:"groupB",name:"Group B",collapse:!1,children:{node1:{id:"groupB/node1",name:"Node 1"},node2:{id:"groupB/node2",name:"Node 2"},node3:{id:"groupB/node3",name:"Node 3"}}},groupC:{id:"groupC",name:"Group C",collapse:!1,children:{node1:{id:"groupC/node1",name:"Node 1"},node2:{id:"groupC/node2",name:"Node 2"},node3:{id:"groupC/node3",name:"Node 3"}}}},dn={edge1:{source:"groupA",target:"groupB"},edge2:{source:"groupB",target:"groupC"},edge3:{source:"groupC",target:"groupA"},edgeA_1:{source:"groupA",target:"groupA/node1"},edgeA_2:{source:"groupA",target:"groupA/node2"},edgeA_3:{source:"groupA",target:"groupA/node3"},edgeB_1:{source:"groupB",target:"groupB/node1"},edgeB_2:{source:"groupB",target:"groupB/node2"},edgeB_3:{source:"groupB",target:"groupB/node3"},edgeC_1:{source:"groupC",target:"groupC/node1"},edgeC_2:{source:"groupC",target:"groupC/node2"},edgeC_3:{source:"groupC",target:"groupC/node3"}},gn={nodes:{groupA:{x:0,y:-60},"groupA/node1":{x:-86.8,y:-115.5},"groupA/node2":{x:.8,y:-163.7},"groupA/node3":{x:87.2,y:-113.3},groupB:{x:-53,y:32},"groupB/node1":{x:-143.1,y:-15.2},"groupB/node2":{x:-140.5,y:84.7},"groupB/node3":{x:-53.4,y:133.8},groupC:{x:53,y:32},"groupC/node1":{x:140.7,y:-22.1},"groupC/node2":{x:144.3,y:77.8},"groupC/node3":{x:50.3,y:132.2}}},pn=w("h1",{class:"pt-2 pb-5 text-3xl font-bold"}," Example on the use of expand/collapse: ",-1),yn=["transform"],vn=["r","fill"],xn=["transform"],_n=w("p",{class:"pb-5"},[R(" Link with this example: "),w("a",{href:"https://dash14.github.io/v-network-graph/examples/misc.html#node-expand-collapse"}," https://dash14.github.io/v-network-graph/examples/misc.html#node-expand-collapse")],-1),mn=w("p",null,[w("hr")],-1),wn=ee({__name:"ExampleExpand",setup(e){const n=te(hn),t=Ne(()=>{const y={};return d(n,p=>y[p.id]=p),y}),o=te(dn),i=te(gn),a={},l=T(1),r=te(q({view:{layoutHandler:new fn},node:{normal:{color:y=>y.children?"#FF0000":"#999999"}}})),u={"node:click":({node:y})=>{var v;const p=(v=t.value[y])==null?void 0:v.children,g=i.nodes[y];if(p&&g)if(t.value[y].collapse=!t.value[y].collapse,t.value[y].collapse)Object.values(p).forEach(h=>{const c=i.nodes[h.id];a[h.id]={x:c?c.x-g.x:0,y:c?c.y-g.y:0}});else{const h=l.value;Object.values(p).forEach((c,f)=>{const x=a[c.id];i.nodes[c.id]={x:x?x.x+g.x:g.x+30*(f+1)/h,y:x?x.y+g.y:g.y+30*(f+1)/h},delete a[c.id]})}}},s={badge:"nodes"};function d(y,p){for(const g of Object.values(y))p(g),!g.collapse&&g.children&&d(g.children,p)}return(y,p)=>{const g=K("v-network-graph");return C(),L(z,null,[pn,B(g,{class:"graph",nodes:t.value,edges:o,configs:r,layers:s,layouts:i,"event-handlers":u,zoomLevel:l.value,"onUpdate:zoomLevel":p[0]||(p[0]=v=>l.value=v)},{badge:V(({scale:v})=>[(C(!0),L(z,null,me(i.nodes,(h,c)=>{var f;return C(),L(z,{key:c},[(f=t.value[c])!=null&&f.children?(C(),L("g",{key:0,class:"collapse-badge",transform:`translate(${h.x+9*v}, ${h.y-9*v})`},[w("circle",{cx:0,cy:0,r:7*v,fill:t.value[c].collapse?"#FF0000":"#333333"},null,8,vn),w("text",{"text-anchor":"middle",transform:`scale(${v})`},[t.value[c].collapse?(C(),L(z,{key:0},[R("+")],64)):(C(),L(z,{key:1},[R("-")],64))],8,xn)],8,yn)):He("",!0)],64)}),128))]),_:1},8,["nodes","edges","configs","layouts","zoomLevel"]),_n,mn],64)}}});const Nn={node1:{name:"Source"},node2:{name:""},node3:{name:""},node4:{name:""},node5:{name:""},node6:{name:""},node7:{name:""},node8:{name:""},node9:{name:""},node10:{name:""},node11:{name:""},node12:{name:""}},bn={edge1:{source:"node1",target:"node2",cost:10},edge2:{source:"node1",target:"node3",cost:5},edge3:{source:"node2",target:"node4",cost:10},edge4:{source:"node2",target:"node5",cost:10},edge5:{source:"node3",target:"node5",cost:5},edge6:{source:"node3",target:"node6",cost:10},edge7:{source:"node4",target:"node7",cost:10},edge8:{source:"node5",target:"node8",cost:5},edge9:{source:"node6",target:"node9",cost:10},edge10:{source:"node7",target:"node10",cost:5},edge11:{source:"node8",target:"node10",cost:5},edge12:{source:"node8",target:"node11",cost:10},edge13:{source:"node9",target:"node11",cost:10},edge14:{source:"node10",target:"node12",cost:10},edge15:{source:"node11",target:"node12",cost:10}},kn={nodes:{node1:{x:0,y:100},node2:{x:75,y:50},node3:{x:75,y:150},node4:{x:150,y:0},node5:{x:150,y:100},node6:{x:150,y:200},node7:{x:250,y:0},node8:{x:250,y:100},node9:{x:250,y:200},node10:{x:325,y:50},node11:{x:325,y:150},node12:{x:400,y:100}}},An=q({node:{normal:{type:"circle",width:32,height:32,borderRadius:2,color:"#ffffff",strokeWidth:2,strokeColor:"#888888"},label:{visible:e=>!!e.name}},path:{visible:!0,curveInNode:!0,path:{width:5,color:"#ff0000"}}}),X={nodes:Nn,edges:bn,layouts:kn,configs:An},$n=w("h1",{class:"pt-2 pb-5 text-3xl font-bold"}," Example on visualizing the shortest path: ",-1),En=w("p",{class:"pb-5"},[R(" Link with this example: "),w("a",{href:"https://dash14.github.io/v-network-graph/examples/misc.html#find-the-shortest-path"}," https://dash14.github.io/v-network-graph/examples/misc.html#find-the-shortest-path ")],-1),Mn=w("p",null,[w("hr")],-1),On=ee({__name:"ExampleShortpath",setup(e){class n{constructor(l){this._sorter=function(s,d){return parseFloat(s)-parseFloat(d)};const r={},u={};Object.entries(l).forEach(([s,d])=>{const y=d.source,p=d.target,g=(d==null?void 0:d.cost)??1;r[y]||(r[y]={}),r[p]||(r[p]={}),u[y]||(u[y]={}),u[p]||(u[p]={}),r[y][p]?r[y][p]>g&&(r[y][p]=g,r[p][y]=g,u[y][p]=s,u[p][y]=s):(r[y][p]=g,r[p][y]=g,u[y][p]=s,u[p][y]=s)}),this.map=r,this.edgeMap=u}findShortestPath(l){return this._findShortestPath(this.map,l)}convertNodesToEdges(l){const r=[];if(l.length===0)return[];let u=l[0];for(let s=1;s<l.length;s++){const d=l[s];r.push(this.edgeMap[u][d]),u=d}return r}_extractKeys(l){const r=[];let u;for(u in l)Object.prototype.hasOwnProperty.call(l,u)&&r.push(u);return r}_findPaths(l,r,u){const s={},d={0:[r]},y={};let p;const g=function(v,h){const c=""+v;d[c]||(d[c]=[]),d[c].push(h)};for(s[r]=0;d&&(p=this._extractKeys(d)).length;){p.sort(this._sorter);const v=p[0],h=d[v],c=h.shift()||"",f=parseFloat(v),x=l[c]||{};h.length||delete d[v];for(const m in x)if(Object.prototype.hasOwnProperty.call(x,m)){const N=x[m]+f,b=s[m];(b===void 0||b>N)&&(s[m]=N,g(N,m),y[m]=c)}}return s[u]===void 0?null:y}_extractShortest(l,r){const u=[];let s=r;for(;s!==void 0;)u.push(s),s=l[s];return u.reverse(),u}_findShortestPath(l,r){r=[...r];let u=r.shift()||"",s,d;const y=[];let p;for(;r.length;){if(s=r.shift()||"",d=this._findPaths(l,u,s),d)if(p=this._extractShortest(d,s),r.length)y.push.apply(y,p.slice(0,-1));else return y.concat(p);else return null;u=s}}}const t=T({}),o=T("node12");Ve(()=>{const a=new n(X.edges),l=a.findShortestPath(["node1",o.value]);if(l){const r=a.convertNodesToEdges(l);t.value={shortestPath:{edges:r}}}});const i={"node:pointerover":({node:a})=>{a!=="node1"&&(o.value=a)}};return(a,l)=>{const r=K("v-edge-label"),u=K("v-network-graph");return C(),L(z,null,[$n,B(u,{nodes:M(X).nodes,edges:M(X).edges,paths:t.value,layouts:M(X).layouts,configs:M(X).configs,"event-handlers":i},{"edge-label":V(({edge:s,...d})=>[B(r,we({text:`${s.cost}`,align:"center","vertical-align":"below"},d),null,16,["text"])]),_:1},8,["nodes","edges","paths","layouts","configs"]),En,Mn],64)}}}),Ln={__name:"ExamplesView",setup(e){return(n,t)=>(C(),L("div",null,[B(et),B(ct),B(mt),B(wn),B(On),B(Qe)]))}};export{Ln as default};
